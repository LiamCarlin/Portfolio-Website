<html class=" js flexbox flexboxlegacy canvas canvastext webgl no-touch geolocation postmessage websqldatabase indexeddb hashchange history draganddrop websockets rgba hsla multiplebgs backgroundsize borderimage borderradius boxshadow textshadow opacity cssanimations csscolumns cssgradients cssreflections csstransforms csstransforms3d csstransitions fontface generatedcontent video audio localstorage sessionstorage webworkers no-applicationcache svg inlinesvg smil svgclippaths" lang="en"><!--<![endif]--><head>

    <!--- Basic Page Needs
    ================================================== -->
    <section>
      <meta charset="utf-8">
      <title>Liam Carlin - My Technological Journey</title>
      <meta name="description" content="I'm Liam Carlin, and this is my Personal Website Project, where I present my background, academic and professional record, as well as projects I have worked on throughout my career - Precision Engineering, Robotics and Autonomous Systems are accompanied by cups of coffee, music and woodworking.">
      <meta name="keywords" content="Liam Carlin, Robotics, Autonomy, Precision Product Design, Engineering, Woodcrafting">
      <meta name="author" content="Liam Carlin">
   </section>
    <!-- Mobile Specific Metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <!-- CSS
    ================================================== -->
    <section>
      <link rel="stylesheet" href="css/default.css">
      <link rel="stylesheet" href="css/layout.css">
      <link rel="stylesheet" href="css/layout_2.css">
      <link rel="stylesheet" href="css/media-queries.css">
      <link rel="stylesheet" href="css/magnific-popup.css">
      <link rel="stylesheet" href="css/prism.css">

      <!-- <link rel="stylesheet" href="css/codeblock.css"> -->
    </section> 
    <!-- Favicons
    ================================================== -->
    <link rel="shortcut icon" href="favicon.ico">
  
  </head>
  
  <body data-new-gr-c-s-check-loaded="14.1113.0" data-gr-ext-installed="" style="">
  
    <!-- Header
    ================================================== -->
    <header id="home" style="height: 1014px;">
  
      <nav id="nav-wrap" class="">
  
        <a class="mobile-btn" href="#nav-wrap" title="Show navigation">Show navigation</a>
        <a class="mobile-btn" href="#" title="Hide navigation">Hide navigation</a>
  
        <ul id="nav" class="nav">
  
          <li class="current"><a class="smoothscroll" href="#home">Home</a></li>
          <li><a class="smoothscroll" href="#about">About</a></li>
          <li><a class="smoothscroll" href="#Engineering">Engineering</a></li>
          <li><a class="smoothscroll" href="#Coding">Coding</a></li>
          <li><a class="smoothscroll" href="#Interests">Interests</a></li>
          <li><a class="smoothscroll" href="#contact">Contact</a></li>
  
        </ul> <!-- end #nav --> 
  
      </nav> <!-- end #nav-wrap -->
  
      <div class="row banner">
        <div class="banner-text">
          <h1 class="responsive-headline" style="font-size: 40px;">Liam Carlin</h1>
          <h3>I'm a first year studying at <span>Franklin W. Olin College of Engineering</span>, with a special interest in  <span>Mechanical Engineering</span>.</h3>
          <hr>
          <ul class="social">
            <li><a href="https://www.facebook.com/oviquezr"><i class="fa fa-facebook"></i></a></li>
            <!--li><a href="#"><i class="fa fa-twitter"></i></a></li-->
            <!--li><a href="#"><i class="fa fa-google-plus"></i></a></li-->
            <li><a href="https://www.linkedin.com/in/oscarviquez"><i class="fa fa-linkedin"></i></a></li>
            <!--li><a href="#"><i class="fa fa-instagram"></i></a></li-->
            <!--li><a href="#"><i class="fa fa-dribbble"></i></a></li-->
            <li><a href="skype:oscarvr9691?chat"><i class="fa fa-skype"></i></a></li>
          </ul>
        </div>
      </div>
  
      <p class="scrolldown">
        <a class="smoothscroll" href="#about"><i class="icon-down-circle"></i></a>
      </p>
  
    </header> <!-- Header End -->
    <!-- About Section
    ================================================== -->
    <section id="about">
  
      <div class="row">
  
        <div class="three columns">
  
          <img class="profile-pic" src="http://127.0.0.1:5501/Images/Cropped-on-cammel.png" alt="">
  
        </div>
  
        <div class="nine columns main-col">
  
          <h2>About Me</h2>
          <p><span></span>I’m Liam Carlin, an engineer driven by curiosity and a love for innovation. I thrive on tackling complex challenges, turning ideas into impactful solutions, and pushing the boundaries of what’s possible. Whether designing systems, building robots, or modeling dynamic behaviors, I bring energy and creativity to everything I do. Let’s create something extraordinary together!</p>
          <div class="row">
  
            <div class="columns contact-details">
  
              <h2>Contact Details</h2>
              <p class="address">
                <span>Liam Carlin</span><br>
                <!--span>1600 Amphitheatre Parkway<br>
                Mountain View, CA 94043 US
              </span><br-->
              <span>(617) 507-9828</span><br>
              <span>LiamCarlin@gmail.com</span>
            </p>
  
          </div>
  
          <!--div class="columns download">
          <p>
          <a href="#" class="button"><i class="fa fa-download"></i>Download Resume</a>
        </p>
      </div-->
  
    </div> <!-- end row -->
  
  </div> <!-- end .main-col -->
  
  </div>
  
  </section> <!-- About Section End-->
  <!-- Engineering Section
  ================================================== -->
    <div id="Engineering"></div>
    <!-- Drone Section
    ================================================== -->
      <section id="name-green">
      <div class="row">
        <div class="three columns header-col">
          <h1><span>Drone</span></h1>
          <img src="http://127.0.0.1:5501/Images/nobackground-MK3drone.png" alt="nobackground-MK3drone" class="nobackground-MK3drone">
        </div>
        <div class="nine columns main-col">
          <p>One of my lifelong dreams has always been to feel what a bird feels and be able to soar the skies. There were not many options available that would allow this until I came across a sport called "FPV Drone Racing". The FPV stands for "First Person View", meaning that the pilot of the drone wears a set of goggles that immerse them inside the drone while it's flying. I was awed by this and realized my dream again. I set out to completely design the frame of the drone from scratch in Onshape (CAD platform). This took many attempts and never seemed to reach my level of expectations, I would 3D print it and then it would not fit together or I would stress test it and it would be weak. Though after what felt like years of designing I finally came across a design that worked. I called it MK3 (after the Iron Man Suits). As soon as I finished the files were sent off to a CNC cutting mill to be made out of carbon fiber. Upon its arrival, everything fit and I soldered up and finished the code for the rest of the drone, and finally I took to the skies accomplishing my dreams of flight.</p>
          <a href="drone_page/drone_page.html"><div class="button">More Details</div></a>
        </div>
      </div>
      </section>
    <!-- Rocket Section
    ================================================== -->
      <section id="name-green">
      <div class="row">
        <div class="three columns header-col">
          <h1><span>Rocket</span></h1>
          <img src="http://127.0.0.1:5501/Images/nobackground-tvcpage.png" alt="nobackground-tvcpage" class="nobackground-tvcpage">
        </div>
        <div class="nine columns main-col">
          <p>Over the course of the past three years, I have been rigorously working on a self-stabilizing rocket. The purpose of this project was to see if a solid fuel-propelled rocket was able to stay upright without the use of fins on the model rocket scale. During the brainstorming phase there were many possible solutions to this problem though upon watching a SpaceX livestream I figured it out, Thrust Vector Control (TVC). TVC is where the mount for the motor gimbals in order to keep the rocket on a path. Despite this being used in pretty much all large-scale rockets, not many people had tried to alter it for the model scale using Onshape (CAD platform). Currently, the main hardware for the rocket is done including the entire gimbaling assembly, though it is still awaiting its first launch. This is due to some minor software problems including data logging and accurate position changes. </p>
          <a href="rocket_page/rocket_page.html"><div class="button">More Details</div></a>
        </div>
      </div>
      </section>
    <!-- DPA Section
    ================================================== -->
    <section id="name-green">
      <div class="row">
        <div class="three columns header-col">
          <h1><span>DPA</span></h1>
          <img src="http://127.0.0.1:5501/Images/nobackground-dpa.png" alt="nobackground-dpa" class="nobackground-dpa">
        </div>
        <div class="nine columns main-col">
          <p>The Digital Poker Assistant (DPA) is a cutting-edge app designed to enhance the social and strategic elements of in-person poker. It features AI-driven chip counting from photos, tracks individual and group stats for friendly competition, offers a virtual chip stack for games without physical chips, and provides card detection with winning probability calculations. DPA seamlessly blends technology with traditional poker, enriching the experience while preserving its social essence.</p>
          <a href="dpa_page/dpa_page.html"><div class="button">More Details</div></a>
        </div>
      </div>
    </section>

    <!-- Barbell Clip Section
    ================================================== -->
    <section id="name-green">
      <div class="row">
        <div class="three columns header-col">
          <h1><span>Barbell Clip</span></h1>
          <img src="http://127.0.0.1:5501/Images/nobackground-barbellclip.png" alt="nobackground-barbellclip" class="nobackground-barbellclip">
        </div>
        <div class="nine columns main-col">
          <p>The Barbell Clip is an innovative solution designed to tackle a common and potentially hazardous problem in CrossFit and other high-intensity workouts. Traditional clips often fail to keep weights securely in place after the barbell is dropped, as the impact causes plates to shift and push against the clip, resulting in sliding weights and an off-balance bar. This new barbell clip is engineered to withstand these forces, ensuring plates stay firmly in position even after repeated drops. Once the design and patent are finalized, the clip will be injection molded for durability and performance, enhancing workout safety and stability while protecting both athletes and their surroundings.</p>
          <a href="barbellclip_page/barbellclip_page.html"><div class="button">More Details</div></a>
        </div>
      </div>
    </section>

    <!-- Baja Wheel Hub Section
    ================================================== -->
    <section id="name-green">
      <div class="row">
        <div class="three columns header-col">
          <h1><span>Baja Wheel Hub</span></h1>
          <img src="http://127.0.0.1:5501/Images/nobackground-bajahub.png" alt="nobackground-bajahub" class="nobackground-bajahub">
        </div>
        <div class="nine columns main-col">
          <p>The Baja SAE Wheel Hub Redesign focuses on enhancing the performance and reliability of front wheel hubs in demanding racing environments. The redesign prioritizes reducing weight without compromising structural integrity, aiming to improve the vehicle’s agility and efficiency. Additionally, it minimizes the distance between the wheel’s contact patch and the half shaft U-joint to optimize performance. Made from 6061-T6 aluminum alloy, the hubs are manufactured in-house using CNC milling for precision and durability, with lathe machining to refine the hardened splines. Finite Element Analysis (FEA) has been employed to evaluate the hubs under various load scenarios, such as jumps, bumps, and tree impacts, ensuring a robust factor of safety. With the design finalized, the next steps include manufacturing and testing to validate these improvements.</p>
          <a href="bajahub_page/bajahub_page.html"><div class="button">More Details</div></a>
        </div>
      </div>
    </section>

    <!-- Stock Analysis Section
    ================================================== -->
    <section id="name-green">
      <div class="row">
        <div class="three columns header-col">
          <h1><span>Stock Analysis</span></h1>
          <img src="http://127.0.0.1:5501/Images/nobackground-stockanalysis.png" alt="nobackground-stockanalysis" class="nobackground-stockanalysis">
        </div>
        <div class="nine columns main-col">
          <p>The stock analysis employs two predictive methods to gain insights into price movements. The first approach uses candlestick pattern classification with principal component analysis (PCA), achieving 27% accuracy, significantly outperforming random guessing. Despite limitations like grayscale conversion and image resizing, it effectively identifies bullish and bearish trends ￼. The second method applies the Geometric Brownian Motion (GBM) model to Amazon stock data, achieving ~95% directional accuracy by balancing long-term trends (drift) with short-term volatility. While limited by constant volatility assumptions, the GBM model demonstrates strong predictive power, offering valuable forecasts for investment planning. Together, these methods provide actionable insights into market behavior.</p>
          <a href="stockanalysis_page/stockanalysis_page.html"><div class="button">More Details</div></a>
        </div>
      </div>
    </section>
  <!-- Coding Section
  ================================================== -->
    <div id="Coding"></div>
    <section id="name-green">
      <div class="row">
        <div class="three columns header-col">
          <h1><span>Code</span></h1>
        </div> 
          <div class="nine columns main-col">
            <p>With the creation of many of my projects comes sections where it is necessary to use software in order to run the hardware. This drove me to start to learn different coding languages to improve the outcomes of my projects. The coding languages that I have learned are C++, CSS, Java, JavaScript, HTML, and Python. In particular, the code that is shown below is written in a variation of C++. This program is for my self stabilizing rocket and runs the majority of the calculations done to filter out vibrations picked up by the gyroscope. As well as converting these filtered values into values that can be transmuted to the servos to "steer" the rocket.</p>
            <div class="codebox">
              <pre class="line-numbers"><code class="language-cpp">
#include <Wire.h>
#include <Kalman.h> // Source: https://github.com/TKJElectronics/KalmanFilter
#include <Servo.h> // Import servo library
#include <SoftwareSerial.h> // Import software serial for the bluetooth
#define RESTRICT_PITCH // Comment out to restrict roll to ±90deg instead - please read: http://www.freescale.com/files/sensors/doc/app_note/AN3461.pdf
Servo Xservo; // Create servo's

Servo Yservo;
Kalman kalmanX; // Create the Kalman instances
Kalman kalmanY;

SoftwareSerial BTserial (7, A0); // RX | TX // Define bluetooth module Communication pins

//Mpu6050 + PID + Kalman Filter Variables:
double PIDX, PIDY, errorX, errorY, previous_errorX, previous_errorY, pwmX, pwmY;
double error_X, error_Y, pidX_p, pidY_p, pidX_i, pidY_i, pidX_d, pidY_d, PID_Y, PID_X, pidY_dTest;
double pwm_X, pwm_Y, previous_error_Y, previous_error_X, previous_kalAngleY, previous_kalAngleX, pidXP, pidYP;
double accX, accY, accZ, gyroX, gyroY, gyroZ;
double gyroXangle, gyroYangle; // Angle calculate using the gyro only
double kalAngleX, kalAngleY; // Calculated angle using a Kalman filter
uint8_t i2cData[14]; // Buffer for I2C data

//VARIABLES YOU NEED TO CHANGE OR THINK ABOUT:
float setPointX = 0;
float setPointY = 0;

double kp = 0.3; //Proportional gain // 0.3
double ki = 0.45; //Integral gain     // 0.45
double kd = 0.0775; //Derivative gain  // 0.0775

double tau = 0.07; /*cut of freq for derivative "fc = 1/(2*pi*tau)", if you increase
  tau to high than it will just end up acting like the proportional term,
  so make sure normal_kd_Y is close to pid_d_Y. But still smooth */
double sampleT = 10000; //time in microseconds(sample time)

float iLimitX = 0; //it is defined by itself in the code, but you can choose another value if you want(just remember to cancel the right line out down in the code)
float iLimitY = 0;

float servoCenter = 90; //Center of the servo
float servoFlex = 20; //Servo flexibility, max and minimum(in servo steps)
float angleMax = 5; //Max angle for your tvc mount

int buzzer = 5; //The pin you attach buzzer to
int ledR = 2; //Red led indicator
int ledG = 8; //Green led indicator
int ledB = 4; //Blue led indicator
int igMotor = 6; // Ignition pin - for rocket motor
int igChute = 12; // Ignition pin - for parachute

//Other variables:
double kdTest = kd; //normal derivative only for comparison
int State = 0;
uint32_t timer, nowCounter, timer2;
int t = 0;
int tt = 0;
int next = 0;

void setup() {

  pinMode (igMotor, OUTPUT);
  pinMode (igChute, OUTPUT);
  pinMode (buzzer, OUTPUT);
  pinMode (ledR, OUTPUT);
  pinMode (ledG, OUTPUT);
  pinMode (ledB, OUTPUT);
  digitalWrite (igMotor, LOW); // Set ignition to OFF
  digitalWrite (igChute, LOW); // Set ignition to OFF
  digitalWrite (ledR, HIGH);
  digitalWrite (buzzer, HIGH);

  Yservo.attach(9); //attach the Y-servo to the given number
  Xservo.attach(10); //attach the X-servo to the given number
  Xservo.write(servoCenter); //Move to center position
  Yservo.write(servoCenter);
  delay (200);

  BTserial.begin(115200); /* Set the Serial communication to bt module,
  you'd maybe won't change this to "9600"*/
  Serial.begin(115200); // Serial communication to computer
  Wire.begin();
  delay (100);

#if ARDUINO >= 157
  Wire.setClock(400000UL); // Set I2C frequency to 400kHz
#else
  TWBR = ((F_CPU / 400000UL) - 16) / 2; // Set I2C frequency to 400kHz
#endif

  i2cData[0] = 7; // Set the sample rate to 1000Hz - 8kHz/(7+1) = 1000Hz
  i2cData[1] = 0x00; // Disable FSYNC and set 260 Hz Acc filtering, 256 Hz Gyro filtering, 8 KHz sampling
  i2cData[2] = 0x00; // Set Gyro Full Scale Range to ±250deg/s
  i2cData[3] = 0x00; // Set Accelerometer Full Scale Range to ±2g
  while (i2cWrite(0x19, i2cData, 4, false)); // Write to all four registers at once
  while (i2cWrite(0x6B, 0x01, true)); // PLL with X axis gyroscope reference and disable sleep mode

  while (i2cRead(0x75, i2cData, 1));
  if (i2cData[0] != 0x68) { // Read "WHO_AM_I" register
    Serial.print(F("Error reading sensor"));
    while (1);
  }
  delay(100); // Wait for sensor to stabilize
  while (i2cRead(0x3B, i2cData, 6));
  accX = (int16_t)((i2cData[0] << 8) | i2cData[1]);
  accY = (int16_t)((i2cData[2] << 8) | i2cData[3]);
  accZ = (int16_t)((i2cData[4] << 8) | i2cData[5]);

#ifdef RESTRICT_PITCH // Eq. 25 and 26
  double roll  = atan2(accY, accZ) * RAD_TO_DEG;
  double pitch = atan(-accX / sqrt(accY * accY + accZ * accZ)) * RAD_TO_DEG;
#else // Eq. 28 and 29
  double roll  = atan(accY / sqrt(accX * accX + accZ * accZ)) * RAD_TO_DEG;
  double pitch = atan2(-accX, accZ) * RAD_TO_DEG;
#endif
  kalmanX.setAngle(roll); // Set starting angle
  kalmanY.setAngle(pitch);
  gyroXangle = roll;
  gyroYangle = pitch;

  //Serial print tha value names(go to "Serial Plotter"):
  Serial.println("");
  Serial.print("Normal_kd_Y"); // original pid derivative
  Serial.print(",");
  Serial.print("Angle_Y"); 
  Serial.print(",");
  Serial.print("Pid_Output_Y");
  Serial.print(",");
  Serial.print("Pid_d_Y"); //pid noise filtered derivative - Y
  Serial.print(",");
  Serial.println("Pid_i_Y"); //pid integrator - Y

  //Make some indication, now everything is ready:
  digitalWrite (ledR, LOW);
  digitalWrite (ledG, HIGH);
  tone (buzzer, 500);
  delay (150);
  noTone (buzzer);
  digitalWrite (buzzer, HIGH);
  delay(5);
}

void loop() {
  /* Update all the values */
  while (i2cRead(0x3B, i2cData, 14));
  accX = (int16_t)((i2cData[0] << 8) | i2cData[1]);
  accY = (int16_t)((i2cData[2] << 8) | i2cData[3]);
  accZ = (int16_t)((i2cData[4] << 8) | i2cData[5]);
  gyroX = (int16_t)((i2cData[8] << 8) | i2cData[9]);
  gyroY = (int16_t)((i2cData[10] << 8) | i2cData[11]);
  gyroZ = (int16_t)((i2cData[12] << 8) | i2cData[13]);;

  if (tt == 1) {
  pidcompute(); // Run pid loop - go to "void pidcompute"
  if (nowCounter >= timer2 + 4000000){
  digitalWrite (igChute, HIGH);
  }
  }
  BT (); // Run pid bluetooth - go to "void BT"
}
void pidcompute () {
  nowCounter = micros(); //Update time
  if (micros() >= timer + sampleT) {

    double dt = (double)(micros() - timer) / 1000000; // Calculate delta time 
    timer = micros();
#ifdef RESTRICT_PITCH // Eq. 25 and 26
    double roll  = atan2(accY, accZ) * RAD_TO_DEG;
    double pitch = atan(-accX / sqrt(accY * accY + accZ * accZ)) * RAD_TO_DEG;
#else // Eq. 28 and 29
    double roll  = atan(accY / sqrt(accX * accX + accZ * accZ)) * RAD_TO_DEG;
    double pitch = atan2(-accX, accZ) * RAD_TO_DEG;
#endif

    double gyroXrate = gyroX / 131.0; // Convert to deg/s
    double gyroYrate = gyroY / 131.0; // Convert to deg/s

#ifdef RESTRICT_PITCH
    // This fixes the transition problem when the accelerometer angle jumps between -180 and 180 degrees
    if ((roll < -90 && kalAngleX > 90) || (roll > 90 && kalAngleX < -90)) {
      kalmanX.setAngle(roll);
      kalAngleX = roll;
      gyroXangle = roll;
    } else
      kalAngleX = kalmanX.getAngle(roll, gyroXrate, dt); // Calculate the angle using a Kalman filter

    if (abs(kalAngleX) > 90)
      gyroYrate = -gyroYrate; // Invert rate, so it fits the restricted accelerometer reading
    kalAngleY = kalmanY.getAngle(pitch, gyroYrate, dt);
#else
    // This fixes the transition problem when the accelerometer angle jumps between -180 and 180 degrees
    if ((pitch < -90 && kalAngleY > 90) || (pitch > 90 && kalAngleY < -90)) {
      kalmanY.setAngle(pitch);

      kalAngleY = pitch;
      gyroYangle = pitch;
    } else
      kalAngleY = kalmanY.getAngle(pitch, gyroYrate, dt); // Calculate the angle using a Kalman filter

    if (abs(kalAngleY) > 90)
      gyroXrate = -gyroXrate; // Invert rate, so it fits the restricted accelerometer reading
    kalAngleX = kalmanX.getAngle(roll, gyroXrate, dt); // Calculate the angle using a Kalman filter
#endif

    if (t == 0) { //This runs only once
      previous_error_X = kalAngleX; 
      previous_error_Y = kalAngleY; 
    }
    t = 1; // Now "t == 0" will be false

    error_X = kalAngleX - setPointX; //Set the errorX
    error_Y = kalAngleY - setPointY; //Set the errorY

    pidX_p = kp * error_X; //Deffine the proportional term - X 
    pidY_p = kp * error_Y; //Deffine the proportional term - Y

    pidY_dTest = kdTest * ((kalAngleY - previous_kalAngleY) / dt); //Original derivative - no filter
    
    //Derivative (band-limited differentiator):
    pidX_d = (2 * kd * (kalAngleX - previous_kalAngleX) //Find derivative 
              + (2 * tau - dt) * pidX_d) // Use "tau" to define the low pass filter cutoff frequency 
              / (2 * tau + dt); // Use "tau" to define the low pass filter cutoff frequency 
    // Do the same for derivative - Y:
    pidY_d = (2 * kd * (kalAngleY - previous_kalAngleY)
              + (2 * tau - dt) * pidY_d)
              / (2 * tau + dt);

    pidX_i += ki * dt * error_X; //Define the integral - X
    pidY_i += ki * dt * error_Y; //Define the integral - Y
    Limits (); //Limit the integrator - "integrator clamping"

    previous_error_X = error_X; //define previous errorX
    previous_error_Y = error_Y; //define previous errorY
    previous_kalAngleX = kalAngleX; //define previous angleX
    previous_kalAngleY = kalAngleY; //define previous angleY

    PID_X = pidX_p + pidX_i + pidX_d; //Sum the 3 pid values to get the pid output for the servos
    PID_Y = pidY_p + pidY_i + pidY_d; 
    pwm_X = ((PID_X * 4) + servoCenter); //Convert the human readable pid output values(degrees) to servo readable values(pwm signal)
    pwm_Y = ((PID_Y * 4) + servoCenter);

    servowrite(); //Write it to the servos

    //Print the data to Serial(cancel out for flight):
    Serial.print(pidY_dTest); // Print the original pid derivative - Y
    Serial.print(",");
    Serial.print(kalAngleY); // Print the real angle of the rocket
    Serial.print(",");
    Serial.print(PID_Y); // Print the pid output(degrees)
    Serial.print(",");
    Serial.print(pidY_d); // Print the pid noise filtered derivative - Y
    Serial.print(",");
    Serial.println(pidY_i); //pid integrator - Y
  }
}

void Limits () {
  pidXP = pidX_p;
  pidYP = pidY_p;

  /*Basically all this code does, is limiting the pid values of the 
  integrator, according to the TVC maximum angle and according to the rocket's 
  Error angle. All this prevents "wind-up" from happening*/
  if (pidXP > angleMax) {
    pidXP = angleMax;
  }
  if (pidXP < angleMax * -1) {
    pidXP = angleMax * -1;
  }
  if (pidYP > angleMax) {
    pidYP = angleMax;
  }
  if (pidYP < angleMax * -1) {
    pidYP = angleMax * -1;
  }

  if (pidX_p > 0) {
    iLimitX = angleMax - pidXP;
  }
  if (pidX_p < 0) {
    iLimitX = angleMax + pidXP;
  }
  if (pidY_p > 0) {
    iLimitY = angleMax - pidYP;
  }
  if (pidY_p < 0) {
    iLimitY = angleMax + pidYP;
  }

  if (pidX_i > iLimitX) {
    pidX_i = iLimitX;
  }
  if (pidX_i < iLimitX * -1) {
    pidX_i = iLimitX * -1;
  }

  if (pidY_i < iLimitY * -1) {
    pidY_i = iLimitY * -1;
  }
  if (pidY_i > iLimitY) {
    pidY_i = iLimitY;
  }
}

void servowrite () {
  // Define the pid output values according to the "servoCenter" and "servoFlex":
  if (pwm_Y > servoCenter + servoFlex) {
    pwm_Y = servoCenter + servoFlex;
  }
  if (pwm_Y < servoCenter - servoFlex) {
    pwm_Y = servoCenter - servoFlex;
  }
  if (pwm_X > servoCenter + servoFlex) {
    pwm_X = servoCenter + servoFlex;
  }
  if (pwm_X < servoCenter - servoFlex) {
    pwm_X = servoCenter - servoFlex;
  }

  //Finally command the servo readable pid output values:
  Xservo.write(pwm_X);
  Yservo.write(pwm_Y);
}

void BT () {
  if (tt == 0) { 
    if (BTserial.available() > 0) {
      next = BTserial.read(); 
      if (next == 3) {
        Xservo.write(servoCenter); // Make sure the servos is in center position
        Yservo.write(servoCenter); 
        digitalWrite (igMotor, HIGH); // Ignite the rocket motor
        tt = 1;
        delay(150); // The time it takes from igniting the motor till it builds thrust
        timer = micros(); 
        timer2 = micros(); 
      }
    }
  }
}
                </code>
              </pre>
            </div>
            <a href="code_page/code_page.html"><div id="buttoncode" class="button">More Details</div></a>
          </div>
      </div>
    </section>

  <!-- Interests Section
  ================================================== -->
    <div id="Interests">
      <section id="name-green">
        <div class="row">
          <div class="three columns header-col">
            <h1><span>Interests</span></h1>
          </div>
          <div class="nine columns main-col">
            <img src="" alt="Entrepreneurship" class="interest-img">
            <a href="entrepreneurship_page/entrepreneurship_page.html"><div id="buttoncode" class="button">More Details</div></a>
            <img src="" alt="Guitar" class="interest-img">
            <a href="guitar_page/guitar_page.html"><div id="buttoncode" class="button">More Details</div></a>
            <img src="" alt="Sports" class="interest-img">
            <a href="sports_page/sports_page.html"><div id="buttoncode" class="button">More Details</div></a>
            <img src="" alt="Travel" class="interest-img">
            <a href="travel_page/travel_page.html"><div id="buttoncode" class="button">More Details</div></a>
          </div>
        </div>
      </section>
    </div>
  <!-- Contact Section
  ================================================== -->
  
  <section id="contact">
  
    <div class="row section-head">
  
      <div class="two columns header-col">
  
        <h1><span>Get In Touch.</span></h1>
  
      </div>
  
      <div class="ten columns">
  
        <p class="lead">
          Want to reach out? Feel free to use this form, or email me directly and I'll be happy to get back in touch soon as I can.
          Be sure to include how I may be of help or why you would like to connect.
        </p>
  
      </div>
  
    </div>
  
    <div class="row">
  
      <div class="eight columns">
  
        <!-- form -->
        <form action="" method="post" id="contactForm" name="contactForm">
          <fieldset>
  
            <div>
              <label for="contactName">Name <span class="required">*</span></label>
              <input type="text" value="" size="35" id="contactName" name="contactName">
            </div>
  
            <div>
              <label for="contactEmail">Email <span class="required">*</span></label>
              <input type="text" value="" size="35" id="contactEmail" name="contactEmail">
            </div>
  
            <div>
              <label for="contactSubject">Subject</label>
              <input type="text" value="" size="35" id="contactSubject" name="contactSubject">
            </div>
  
            <div>
              <label for="contactMessage">Message <span class="required">*</span></label>
              <textarea cols="50" rows="15" id="contactMessage" name="contactMessage"></textarea>
            </div>
  
            <div>
              <button class="submit">Submit</button>
              <span id="image-loader">
                <img alt="" src="images/loader.gif">
              </span>
            </div>
  
          </fieldset>
        </form> <!-- Form End -->
  
        <!-- contact-warning -->
        <div id="message-warning"> Error!</div>
        <!-- contact-success -->
        <div id="message-success">
          <i class="fa fa-check"></i>Your message was sent, thank you!<br>
        </div>
  
      </div>
  
  
      <aside class="four columns footer-widgets">
  
        <div class="widget widget_contact">
  
          <h4>Address and Phone</h4>
          <p class="address">
            Liam Carlin<br>
            <!--1600 Amphitheatre Parkway <br>
            Mountain View, CA 94043 US<br-->
            <span>(617) 507-9828</span>
          </p>
  
        </div>
  
      </aside>
  
    </div>
  
  </section> <!-- Contact Section End-->
  
  <!-- Footer
  ================================================== -->
  <footer>
  
    <div class="row">
  
      <div class="twelve columns">
  
        <ul class="social-links">
          <li><a href="https://www.facebook.com/oviquezr"><i class="fa fa-facebook"></i></a></li>
          <!--li><a href="#"><i class="fa fa-twitter"></i></a></li-->
          <!--li><a href="#"><i class="fa fa-google-plus"></i></a></li-->
          <li><a href="https://www.linkedin.com/in/oscarviquez"><i class="fa fa-linkedin"></i></a></li>
          <!--li><a href="#"><i class="fa fa-instagram"></i></a></li-->
          <!--li><a href="#"><i class="fa fa-dribbble"></i></a></li-->
          <li><a href="skype:oscarvr9691?chat"><i class="fa fa-skype"></i></a></li>
        </ul>
  
      </div>
  
      <div id="go-top"><a class="smoothscroll" title="Back to Top" href="#home"><i class="icon-up-open"></i></a></div>
  
    </div>
  
  </footer> <!-- Footer End-->
  
  <!-- Java Script
  ================================================== -->
  <section>
    <script src="js/modernizr.js"></script>
    
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/jquery-1.10.2.min.js"><\/script>')</script><script src="js/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="js/jquery-migrate-1.2.1.min.js"></script>
    
    <script src="js/jquery.flexslider.js"></script>
    <script src="js/waypoints.js"></script>
    <script src="js/jquery.fittext.js"></script>
    <script src="js/magnific-popup.js"></script>
    <script src="js/init.js"></script>
    <script src="js/prism.js"></script>
    <!-- <script src="js/codeblock.js"></script> -->
  </section>  
  <!-- Java Script End-->
 
  </body><grammarly-desktop-integration data-grammarly-shadow-root="true"></grammarly-desktop-integration></html>

